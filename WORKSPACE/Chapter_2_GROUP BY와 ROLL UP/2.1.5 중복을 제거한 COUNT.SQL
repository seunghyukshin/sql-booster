-- 주문테이블에서 주문년월별 '고객 수'와 '주문건수'를 구하는 SQL


SELECT TO_CHAR(ORD_DT, 'YYYYMM') AS ORD_YM, COUNT(DISTINCT CUS_ID) AS 고객수, COUNT(1) AS 주문건수
FROM T_ORD
GROUP BY TO_CHAR(ORD_DT, 'YYYYMM')
ORDER BY ORD_YM


-- 조합 수
SELECT COUNT(DISTINCT ORD_ST || '-' || PAY_TP) FROM T_ORD;
SELECT DISTINCT ORD_ST || '-' || PAY_TP FROM T_ORD;

-- 혹은
SELECT COUNT(*)
FROM (
    SELECT DISTINCT ORD_ST, PAY_TP
    FROM T_ORD
     )
;
-- 혹은 EXIST
SELECT COUNT(*)
FROM T_ORD
WHERE EXISTS()